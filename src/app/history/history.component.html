<div class="flex">
  <app-sidebar></app-sidebar>

  <div class="flex flex-col w-full max-h-screen overflow-y-scroll p-8">
    <div class="mb-8">
      <h1 class="text-3xl font-semibold mb-2">Bill History</h1>
      <hr class="border-t-2 border-gray-300 mb-4" />
    </div>

    <div *ngIf="bills.length === 0" class="text-center text-gray-500">
      No bills available.
    </div>

    <div
      *ngFor="let bill of bills"
      class="mb-8 border p-4 rounded-lg shadow-md"
    >
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-xl font-semibold">Bill No: {{ bill.billNo }}</h2>
        <span class="text-gray-500">{{ bill.date }}</span>
      </div>

      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2">Customer Information</h3>
        <p><strong>Name:</strong> {{ bill.customer.name }}</p>
        <p><strong>Mobile:</strong> {{ bill.customer.mobile }}</p>
        <p><strong>Contact:</strong> {{ bill.customer.contact }}</p>
        <p><strong>Address:</strong> {{ bill.customer.address }}</p>
      </div>

      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2">Products</h3>
        <ul>
          <li *ngFor="let product of bill.products">
            {{ product.name }} - Quantity: {{ product.quantity }} - Total: ${{
              product.totalPrice.toFixed(2)
            }}
          </li>
        </ul>
      </div>

      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2">Payment Information</h3>
        <p><strong>Payment Mode:</strong> {{ bill.paymentMode }}</p>
        <p><strong>Subtotal:</strong> ${{ bill.subtotal.toFixed(2) }}</p>
        <p><strong>Total:</strong> ${{ bill.total.toFixed(2) }}</p>
      </div>

      <div class="flex justify-end">
        <button
          class="bg-blue-500 text-white font-semibold py-2 px-4 rounded hover:bg-blue-600 transition-all focus:outline-none focus:ring focus:border-blue-300 mr-2"
          (click)="printBill(bill)"
        >
          Print
        </button>
      </div>
    </div>
  </div>
</div>
